<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/home.css">
    <title>Equipamentos</title>
    <style>
        /* Adicione algumas estiliza√ß√µes b√°sicas para o √≠cone do carrinho e o badge */
        .cart-container {
            position: relative;
            display: inline-block;
            margin-left: 20px;
        }

        .cart-icon {
            font-size: 24px;
            cursor: pointer;
        }

        .badge {
            position: absolute;
            top: -10px;
            right: -10px;
            padding: 5px 10px;
            border-radius: 50%;
            background-color: red;
            color: white;
            font-size: 12px;
        }
    </style>
</head>
<body id="category" class="lang-pt country-pt currency-eur layout-left-column page-category tax-display-enabled category-id-201 category-mobilidade category-id-parent-2 category-depth-level-2 fullwidth">
    <header>
        <div class="top-right">
            <a href="minhaconta.html" class="button">Minha Conta</a>
            <div class="cart-container">
                <span class="cart-icon">üõí</span>
                <span id="cart-badge" class="badge" style="display:none;">0</span>
            </div>
        </div>
        <img src="../assets/logoinicial.PNG" alt="logo" class="logo">
        <nav>
            <a href="home.html">Home</a>
            <a href="quemsomos.html">Quem somos</a>
            <a href="equipamentos.html">Produtos</a>
            <a href="servicos.html">Servi√ßos</a>
            <a href="atendimento.html">Atendimento</a>
            <a href="login.html">Sair</a>
        </nav>
    </header>
    <main>
        <div class="carousel">
            <div class="carousel-inner">
                <div class="slide active">
                    <img src="../assets/banner1.png" alt="Banner 1">
                </div>
                <div class="slide">
                    <img src="../assets/banner2.png" alt="Banner 2">
                </div>
                <div class="slide">
                    <img src="../assets/banner3.png" alt="Banner 3">
                </div>
                <!-- Adicione mais slides conforme necess√°rio -->
            </div>
            <button class="prev" onclick="prevSlide()">&#10094;</button>
            <button class="next" onclick="nextSlide()">&#10095;</button>
        </div>
        <div class="container">
            <section id="productList">
                <div id="products" class="row-container">
                    <!-- Lista de produtos ser√° preenchida dinamicamente -->
                </div>
            </section>
        </div>

        <section id="imageSection" class="image-container">
            <div class="container">
                <div class="row">
                    <div class="column">
                        <img src="../assets/banner4.png" alt="banner4">
                    </div>
                    <div class="column">
                        <img src="../assets/banner5.png" alt="banner5">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="column">
                        <img src="../assets/banner6.png" alt="banner6">
                    </div>
                    <div class="column">
                        <img src="../assets/banner7.png" alt="banner7">
                    </div>
                </div>
            </div>

            <div class="service-container">
                <section class="service">
                    <img class="ilustration" src="../assets/calibracao.jpeg" alt="Manuten√ß√£o em Equipamentos">
                    <div class="service-content">
                        <h2>MANUTEN√á√ÉO EM EQUIPAMENTOS</h2>
                        <p>Para garantir efici√™ncia operacional e prolongar a vida √∫til de seu aparelho, oferecemos servi√ßo de manuten√ß√£o por uma equipe altamente qualificada e comprometida.</p>
                        <h2>Manuten√ß√£o Preventiva:</h2>
                        <p>Realizamos inspe√ß√µes, substitui√ß√£o de pe√ßas e ajustes necess√°rios para garantir o desempenho ideal do seu equipamento.</p>
                        <h2>Manuten√ß√£o Corretiva:</h2>
                        <p>Em caso de falhas ou avarias, nossa equipe de t√©cnicos est√° pronta para intervir realizando diagn√≥stico, reparos e substitui√ß√£o de componentes defeituosos. Entre em contato conosco e agende um hor√°rio! Atendemos a domic√≠lio (RMBH) ou voc√™ pode trazer seu equipamento.</p>
                    </div>
                </section>

                <section class="service reverse">
                    <img class="ilustration" src="../assets/assist√™ncia.jpg" alt="Recome√ßar Social">
                    <div>
                        <h2>RECOME√áAR SOCIAL</h2>
                        <p>Nosso programa Recome√ßar Social oferece suporte e assist√™ncia para pessoas necessitando de equipamentos ortop√©dicos, proporcionando inclus√£o e melhoria na qualidade de vida.</p>
                    </div>
                </section>
            </div>
    </main>
    <footer id="footer" class="footer-container">
        <div class="container">
            <div class="footer-column">
                <div class="footer-info">
                    <h4>APOIO AO CLIENTE</h4>
                    <p>+351 217 151 606 / +351 219 890 697</p>
                    <p>Chamada para a rede fixa nacional</p>
                </div>
                <div class="footer-links">
                    <p><a href="#">POL√çTICA DE PRIVACIDADE</a></p>
                    <p><a href="#">TERMOS E CONDI√á√ïES</a></p>
                    <p><a href="#">LIVRO DE RECLAMA√á√ïES</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2024 Recome√ßar Equipamentos Ortop√©dicos. Todos os direitos reservados.
            </div>
        </div>
    </footer>


    <script>
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');

        function showSlides() {
            slides.forEach(slide => {
                slide.style.display = 'none';
            });
            slides[slideIndex].style.display = 'block';
        }

        function prevSlide() {
            if (slideIndex === 0) {
                slideIndex = slides.length - 1;
            } else {
                slideIndex--;
            }
            showSlides();
        }

        function nextSlide() {
            if (slideIndex === slides.length - 1) {
                slideIndex = 0;
            } else {
                slideIndex++;
            }
            showSlides();
        }

        showSlides();

        async function makeRequest(url) {
            try {
                const response = await fetch(url);
                return await response.json();
            } catch (error) {
                console.error('Erro ao fazer requisi√ß√£o:', error);
                throw error;
            }
        }

        async function fillProductList() {
            const productListElement = document.getElementById('products');
            try {
                const products = await makeRequest('https://localhost:7109/api/Produtos/GetProdutos');
                productListElement.innerHTML = '';

                products.forEach(product => {
                    const card = document.createElement('div');
                    card.classList.add('card');
                    card.setAttribute('data-id', product.id);

                    const img = document.createElement('img');
                    img.src = product.imagem;
                    img.alt = product.nomeProduto;
                    img.style.width = '200px';
                    img.style.height = '200px';

                    const cardBody = document.createElement('div');
                    cardBody.classList.add('card-body');

                    const title = document.createElement('h5');
                    title.classList.add('card-title');
                    title.textContent = product.nomeProduto;

                    const price = document.createElement('p');
                    price.classList.add('card-text');
                    price.textContent = `Pre√ßo: ${product.preco}`;

                    const description = document.createElement('p');
                    description.classList.add('card-text');
                    description.textContent = product.descricao;

                    const buyButton = document.createElement('button');
                    buyButton.textContent = 'Comprar';
                    buyButton.classList.add('buy-button');

                    // Adicionando evento de clique ao card
                    card.addEventListener('click', function () {
                        window.location.href = `details.html?id=${product.produtoId}`;
                    });

                    // Adicionar elementos ao card
                    card.appendChild(img);
                    card.appendChild(cardBody);
                    cardBody.appendChild(title);
                    cardBody.appendChild(price);
                    cardBody.appendChild(description);
                    cardBody.appendChild(buyButton);

                    // Adicionar o card √† lista de produtos
                    productListElement.appendChild(card);
                });
            } catch (error) {
                productListElement.innerHTML = '<p>Erro ao carregar a lista de produtos.</p>';
            }
        }

        fillProductList();
    </script>
</body>
</html>
